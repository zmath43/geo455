<!DOCTYPE html>
<html>
<head>
    <title>British Invasion</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
    <script src="GEO455_final.js"></script>
    <script src="GEO455_final_2.js"></script>
    <script src="GEO455_final_3.js"></script>
    <script src="leaflet-heat.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css">
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin="" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css" />

  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script>
    
     <link rel="stylesheet" type="text/css" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
    <link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/MarkerCluster.css" />
    <link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/MarkerCluster.Default.css" />
 
    <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js'></script>
    <script type='text/javascript' src='http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js'></script>
    <script type='text/javascript' src='http://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/leaflet.markercluster.js'></script>
    
     <!--- cluster marker package --->
        <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css">
    
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/"></script>
    
    <script src="App.js"></script>
    <link rel="stylesheet" href="App.css">
    
    <!--- locator map package --->
        <link href='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-minimap/v1.0.0/Control.MiniMap.css' rel='stylesheet' />
        <script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-minimap/v1.0.0/Control.MiniMap.js'></script>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
        <script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>
    
    
    
    <style>
        body {
            padding: 0;
            margin: 0;
        }
        html, body, #map {
            height: 100%;
            width: 100%;
        }
        #title {
                position: fixed;
                margin-top: 0;
                top: 25px;
                left: 375px;
                font-size: 2em;
                font-family: "Lora", serif;
                letter-spacing: .04em;
                padding: 10px 15px;
                background-color: rgba(255, 255, 255, 0.8);
                border: 1px solid grey;
                border-radius: 3px;
                z-index: 800;
            }
        .leaflet-popup-content {
            min-width: 300px;
            text-align: center;
        }
    </style>
</head>
<body>
    
    <div id="map"></div>
    <div id="title">British Invasion: The Globalization of Songs</div>
    
    <script>
    
let mymap = L.map("map", {zoomControl: false}).setView([30, 0], 2);
        

var streets = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZ2NoYXVkaHVyaSIsImEiOiJjazBtcG5odG8wMDltM2JtcjdnYTgyanBnIn0.qwqjMomdrBMG36GQKXBlMw', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
        'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
    id: 'mapbox/streets-v11',
    tileSize: 512,
    zoomOffset: -1,
    minZoom: 2,
    maxZoom: 19
}).addTo(mymap);
        
        
var grayscale = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZ2NoYXVkaHVyaSIsImEiOiJjazBtcG5odG8wMDltM2JtcjdnYTgyanBnIn0.qwqjMomdrBMG36GQKXBlMw', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
        'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
    id: 'mapbox/light-v9',
    tileSize: 512,
    zoomOffset: -1,
    minZoom: 2,
    maxZoom: 19
}).addTo(mymap);
        
var satellite = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZ2NoYXVkaHVyaSIsImEiOiJjazBtcG5odG8wMDltM2JtcjdnYTgyanBnIn0.qwqjMomdrBMG36GQKXBlMw', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
        'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
    id: 'mapbox/satellite-v9',
    tileSize: 512,
    zoomOffset: -1,
    minZoom: 2,
    maxZoom: 19
}).addTo(mymap);
    
        
var myIcon1 = L.icon({
    iconUrl: 'beatles_logo.png',
    iconSize: [15, 15],
    iconAnchor: [10, 10],
    popupAnchor: [-2, -10],
});
        
var myIcon2 = L.icon({
    iconUrl: 'rolling_stones_logo.png',
    iconSize: [15, 15],
    iconAnchor: [10, 10],
    popupAnchor: [-2, -10],
});
        
var myIcon3 = L.icon({
    iconUrl: 'kinks_logo.png',
    iconSize: [15, 15],
    iconAnchor: [10, 10],
    popupAnchor: [-2, -10],
});


// Load GeoJSON from an external file
        
        
//The Beatles
        
var beatles = L.geoJSON(beatles, {
    pointToLayer: function(feature,latlng){
        var marker = L.marker(latlng, {icon: myIcon1});
    marker.bindPopup(feature.properties.pic + '<br><b>Song: </b>' + feature.properties.song +
        '<br><b>Artist: </b>' + feature.properties.artist +
        '<br><b>Year: </b>' + feature.properties.year +
        '<p style="color:blue">' + '"' + feature.properties.lyric + '"');
        return marker;
    }
});

        
//The Rolling Stones
        
var stones = L.geoJSON(stones, {
    pointToLayer: function(feature,latlng){
        var marker = L.marker(latlng, {icon: myIcon2});
    marker.bindPopup(feature.properties.pic + '<br><b>Song: </b>' + feature.properties.song +
        '<br><b>Artist: </b>' + feature.properties.artist +
        '<br><b>Year: </b>' + feature.properties.year +
        '<p style="color:blue">' + '"' + feature.properties.lyric + '"');
        return marker;
    }
});

        
//The Kinks
        
var kinks = L.geoJSON(kinks, {
    pointToLayer: function(feature,latlng){
        var marker = L.marker(latlng, {icon: myIcon3});
    marker.bindPopup(feature.properties.pic + '<br><b>Song: </b>' + feature.properties.song +
        '<br><b>Artist: </b>' + feature.properties.artist +
        '<br><b>Year: </b>' + feature.properties.year +
        '<p style="color:blue">' + '"' + feature.properties.lyric + '"');
        return marker;
    }
});

        
var clusters = L.markerClusterGroup({
	spiderfyOnMaxZoom: false,
});
    clusters.addLayer(beatles);
    clusters.addLayer(stones);
    clusters.addLayer(kinks);
    mymap.addLayer(clusters);
        

var miniMap = new L.Control.MiniMap(L.tileLayer('https://api.maptiler.com/maps/topo/{z}/{x}/{y}.png?key=tZnptaeI9RvKHsX18rbW'), {
            toggleDisplay: false,
            position: 'bottomleft'
        }).addTo(mymap);        
        

L.control.scale({position: 'bottomright', maxWidth: '150', metric: 'True'}).addTo(mymap); 

        
var menu = {
    "<img src='beatles_logo.png' height=16> The Beatles": beatles,
    "<img src='rolling_stones_logo.png' height=16> The Rolling Stones": stones,
    "<img src='kinks_logo.png' height=16> The Kinks": kinks,
    "<img src='cluster_icon.png' height=16> Clusters": clusters,
};

var baseLayers = {
    'Grayscale': grayscale,
    'Satellite': satellite,
    'Streets': streets,
};        

var layerControl = L.control.layers(baseLayers, menu, {collapsed: false}).addTo(mymap);  


L.easyButton(('<img src="home_icon.svg", height=60%>'), function(btn, map){
    map.setView([30, 0], 2);
}, {position: 'topright'}).addTo(mymap);
        
L.control.zoom({
    position: "topright"
}).addTo(mymap);
        

    </script>
</body>
</html>